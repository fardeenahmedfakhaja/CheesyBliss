<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Order System</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <!-- Toastr for notifications -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="images/logo.png">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="images/logo.png" alt="Restaurant Logo" height="40" class="d-inline-block align-text-top me-2">
                <span class="brand-text">Restaurant Order System</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#take-order" data-tab="take-order">
                            <i class="fas fa-utensils me-1"></i> Take Order
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#ongoing-orders" data-tab="ongoing-orders">
                            <i class="fas fa-clock me-1"></i> Ongoing
                            <span id="ongoing-badge" class="badge bg-warning ms-1">0</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#completed-orders" data-tab="completed-orders">
                            <i class="fas fa-check-circle me-1"></i> Completed
                            <span id="completed-badge" class="badge bg-success ms-1">0</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#menu-management" data-tab="menu-management">
                            <i class="fas fa-edit me-1"></i> Menu
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#analytics" data-tab="analytics">
                            <i class="fas fa-chart-line me-1"></i> Analytics
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#settings" data-tab="settings">
                            <i class="fas fa-cog me-1"></i> Settings
                        </a>
                    </li>
                </ul>
                <div class="navbar-text ms-3 d-none d-lg-block">
                    <div class="small text-light">Today: <span id="current-date"></span></div>
                    <div class="small text-light">Revenue: <strong id="today-revenue">₹0</strong></div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Quick Actions Bar -->
    <div class="quick-actions-bar">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center py-2">
                <div class="d-flex gap-2">
                    <button class="btn btn-sm btn-outline-light" id="quick-clear-btn">
                        <i class="fas fa-broom me-1"></i> Clear All
                    </button>
                    <button class="btn btn-sm btn-outline-light" id="quick-print-btn">
                        <i class="fas fa-print me-1"></i> Print Summary
                    </button>
                </div>
                <div class="d-flex gap-2">
                    <div class="input-group input-group-sm" style="width: 200px;">
                        <input type="text" class="form-control" placeholder="Search orders..." id="search-orders">
                        <button class="btn btn-outline-light" type="button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <button class="btn btn-sm btn-light" id="dark-mode-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid main-container">
        <!-- Take Order Tab -->
        <div id="take-order" class="tab-content active">
            <div class="row">
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h3><i class="fas fa-cart-plus me-2"></i>Take New Order</h3>
                            <div class="d-flex gap-2">
                                <button class="btn btn-sm btn-outline-primary" id="save-order-template-btn">
                                    <i class="fas fa-save me-1"></i> Save as Template
                                </button>
                                <button class="btn btn-sm btn-outline-success" id="load-templates-btn">
                                    <i class="fas fa-history me-1"></i> Load Template
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-4">
                                    <label for="customer-name" class="form-label">
                                        <i class="fas fa-user me-1"></i>Customer Name
                                    </label>
                                    <input type="text" class="form-control" id="customer-name" placeholder="Enter name">
                                </div>
                                <div class="col-md-4">
                                    <label for="customer-number" class="form-label">
                                        <i class="fas fa-phone me-1"></i>Phone Number
                                    </label>
                                    <input type="text" class="form-control" id="customer-number" placeholder="Enter number">
                                </div>
                                <div class="col-md-4">
                                    <label for="order-type" class="form-label">
                                        <i class="fas fa-home me-1"></i>Order Type
                                    </label>
                                    <select class="form-select" id="order-type">
                                        <option value="dine-in">Dine In</option>
                                        <option value="takeaway">Takeaway</option>
                                        <option value="delivery">Delivery</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-12">
                                    <div class="input-group">
                                        <span class="input-group-text">
                                            <i class="fas fa-search"></i>
                                        </span>
                                        <input type="text" class="form-control" id="menu-search" placeholder="Search menu items...">
                                        <button class="btn btn-outline-secondary" type="button" id="clear-search">
                                            Clear
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <h4 class="mb-3">Menu Items</h4>
                            <div class="row" id="menu-items-container">
                                <!-- Menu items will be loaded here dynamically -->
                            </div>
                            
                            <div class="mt-4">
                                <h4>Selected Items</h4>
                                <div class="table-responsive">
                                    <table class="table table-hover" id="selected-items-table">
                                        <thead>
                                            <tr>
                                                <th>Item</th>
                                                <th>Quantity</th>
                                                <th>Price</th>
                                                <th>Total</th>
                                                <th>Notes</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="selected-items-body">
                                            <!-- Selected items will appear here -->
                                        </tbody>
                                        <tfoot>
                                            <tr class="table-active">
                                                <td colspan="3" class="text-end"><strong>Subtotal:</strong></td>
                                                <td><strong id="subtotal">₹0</strong></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="text-end">
                                                    <div class="input-group input-group-sm" style="width: 200px; float: right;">
                                                        <span class="input-group-text">Tax (%)</span>
                                                        <input type="number" class="form-control" id="tax-percentage" value="5" min="0" max="50">
                                                    </div>
                                                </td>
                                                <td><strong id="tax-amount">₹0</strong></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr class="table-success">
                                                <td colspan="3" class="text-end"><strong>Grand Total:</strong></td>
                                                <td><strong id="grand-total">₹0</strong></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                            
                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <label for="order-notes" class="form-label">
                                        <i class="fas fa-sticky-note me-1"></i>Order Notes
                                    </label>
                                    <textarea class="form-control" id="order-notes" rows="2" placeholder="Any special instructions..."></textarea>
                                </div>
                                <div class="col-md-6">
                                    <label for="payment-method" class="form-label">
                                        <i class="fas fa-credit-card me-1"></i>Payment Method
                                    </label>
                                    <select class="form-select" id="payment-method">
                                        <option value="cash">Cash</option>
                                        <option value="card">Card</option>
                                        <option value="upi">UPI</option>
                                        <option value="online">Online</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                                <button class="btn btn-secondary" id="clear-order-btn">
                                    <i class="fas fa-times me-1"></i> Clear Order
                                </button>
                                <button class="btn btn-warning" id="hold-order-btn">
                                    <i class="fas fa-pause me-1"></i> Hold Order
                                </button>
                                <button class="btn btn-success" id="place-order-btn">
                                    <i class="fas fa-paper-plane me-1"></i> Place Order (F1)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <h4><i class="fas fa-receipt me-2"></i>Order Summary</h4>
                        </div>
                        <div class="card-body">
                            <div class="order-summary">
                                <div class="text-center mb-3">
                                    <div class="order-number-display" id="display-order-no">--</div>
                                    <div class="small text-muted">Next Order Number</div>
                                </div>
                                <p><strong><i class="fas fa-user me-1"></i>Customer:</strong> <span id="display-customer">Not specified</span></p>
                                <p><strong><i class="fas fa-clock me-1"></i>Time:</strong> <span id="display-time">--</span></p>
                                <p><strong><i class="fas fa-home me-1"></i>Type:</strong> <span id="display-type">Dine In</span></p>
                                <hr>
                                <div id="summary-items">
                                    <!-- Summary items will appear here -->
                                </div>
                                <hr>
                                <div class="d-flex justify-content-between">
                                    <span>Subtotal:</span>
                                    <span id="summary-subtotal">₹0</span>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <span>Tax (5%):</span>
                                    <span id="summary-tax">₹0</span>
                                </div>
                                <div class="d-flex justify-content-between total-row">
                                    <strong>Total:</strong>
                                    <strong id="summary-total">₹0</strong>
                                </div>
                                <div class="mt-3">
                                    <p><strong><i class="fas fa-credit-card me-1"></i>Payment:</strong> <span id="summary-payment">Cash</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mt-3">
                        <div class="card-header">
                            <h5><i class="fas fa-bolt me-2"></i>Quick Actions</h5>
                        </div>
                        <div class="card-body">
                            <div class="row g-2" id="quick-items">
                                <!-- Quick items buttons will be loaded here -->
                            </div>
                            <hr>
                            <div class="row g-2">
                                <div class="col-6">
                                    <button class="btn btn-sm btn-outline-primary w-100" id="add-drinks-btn">
                                        <i class="fas fa-wine-glass me-1"></i> Add Drinks
                                    </button>
                                </div>
                                <div class="col-6">
                                    <button class="btn btn-sm btn-outline-success w-100" id="add-desserts-btn">
                                        <i class="fas fa-ice-cream me-1"></i> Add Desserts
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mt-3">
                        <div class="card-header">
                            <h5><i class="fas fa-info-circle me-2"></i>Live Updates</h5>
                        </div>
                        <div class="card-body p-0">
                            <div class="list-group list-group-flush" id="live-updates">
                                <div class="list-group-item">
                                    <div class="d-flex justify-content-between">
                                        <span>Ongoing Orders</span>
                                        <span class="badge bg-warning" id="live-ongoing">0</span>
                                    </div>
                                </div>
                                <div class="list-group-item">
                                    <div class="d-flex justify-content-between">
                                        <span>Completed Today</span>
                                        <span class="badge bg-success" id="live-completed">0</span>
                                    </div>
                                </div>
                                <div class="list-group-item">
                                    <div class="d-flex justify-content-between">
                                        <span>Today's Revenue</span>
                                        <span class="badge bg-info" id="live-revenue">₹0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ongoing Orders Tab -->
        <div id="ongoing-orders" class="tab-content">
            <div class="row">
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <div>
                                <h3><i class="fas fa-clock me-2"></i>Ongoing Orders</h3>
                                <p class="mb-0 small text-muted">Auto-refresh every 10 seconds</p>
                            </div>
                            <div class="d-flex gap-2">
                                <button class="btn btn-sm btn-outline-primary" id="filter-preparing-btn">
                                    <i class="fas fa-utensils me-1"></i> Preparing
                                </button>
                                <button class="btn btn-sm btn-outline-warning" id="filter-ready-btn">
                                    <i class="fas fa-check me-1"></i> Ready
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" id="filter-all-btn">
                                    <i class="fas fa-list me-1"></i> All
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Order #</th>
                                            <th>Time</th>
                                            <th>Customer</th>
                                            <th>Items</th>
                                            <th>Total</th>
                                            <th>Status</th>
                                            <th>Wait Time</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ongoing-orders-body">
                                        <!-- Ongoing orders will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                            <div id="no-ongoing-orders" class="text-center py-5">
                                <i class="fas fa-clipboard-list fa-3x mb-3 text-muted"></i>
                                <h4>No Ongoing Orders</h4>
                                <p class="text-muted">All orders are completed</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <h4><i class="fas fa-tachometer-alt me-2"></i>Kitchen Dashboard</h4>
                        </div>
                        <div class="card-body">
                            <div class="mb-4">
                                <h5>Order Status</h5>
                                <div class="progress" style="height: 25px;">
                                    <div class="progress-bar bg-warning" id="preparing-progress" style="width: 0%">Preparing: 0</div>
                                    <div class="progress-bar bg-success" id="ready-progress" style="width: 0%">Ready: 0</div>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <h5>Average Wait Time</h5>
                                <div class="text-center">
                                    <h1 id="avg-wait-time">0</h1>
                                    <p class="small text-muted">Minutes</p>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <h5>Kitchen Alerts</h5>
                                <div class="alert alert-warning" id="long-wait-alert" style="display: none;">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <span id="alert-message"></span>
                                </div>
                                <div class="list-group" id="kitchen-alerts">
                                    <!-- Kitchen alerts will appear here -->
                                </div>
                            </div>
                            
                            <div class="d-grid gap-2">
                                <button class="btn btn-outline-danger" id="print-kitchen-orders-btn">
                                    <i class="fas fa-print me-1"></i> Print All Orders
                                </button>
                                <button class="btn btn-outline-info" id="kitchen-voice-btn">
                                    <i class="fas fa-volume-up me-1"></i> Voice Announce
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mt-3">
                        <div class="card-header">
                            <h5><i class="fas fa-history me-2"></i>Recent Activity</h5>
                        </div>
                        <div class="card-body p-0">
                            <div class="list-group list-group-flush" id="recent-activity">
                                <!-- Recent activity will appear here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Completed Orders Tab -->
        <div id="completed-orders" class="tab-content">
            <div class="row">
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h3><i class="fas fa-check-circle me-2"></i>Completed Orders</h3>
                            <div class="d-flex gap-2">
                                <select class="form-select form-select-sm" id="date-filter" style="width: 150px;">
                                    <option value="today">Today</option>
                                    <option value="yesterday">Yesterday</option>
                                    <option value="week">This Week</option>
                                    <option value="month">This Month</option>
                                    <option value="all">All Time</option>
                                </select>
                                <button class="btn btn-sm btn-outline-primary" id="export-csv-btn">
                                    <i class="fas fa-file-csv me-1"></i> Export CSV
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Order #</th>
                                            <th>Date & Time</th>
                                            <th>Customer</th>
                                            <th>Items</th>
                                            <th>Type</th>
                                            <th>Payment</th>
                                            <th>Total</th>
                                            <th>Completed At</th>
                                        </tr>
                                    </thead>
                                    <tbody id="completed-orders-body">
                                        <!-- Completed orders will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                            <div id="no-completed-orders" class="text-center py-5">
                                <i class="fas fa-check fa-3x mb-3 text-muted"></i>
                                <h4>No Completed Orders</h4>
                                <p class="text-muted">Complete some orders to see them here</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <h4><i class="fas fa-chart-pie me-2"></i>Sales Dashboard</h4>
                        </div>
                        <div class="card-body">
                            <div class="summary-box">
                                <h5>Today's Summary</h5>
                                <div class="row text-center">
                                    <div class="col-6">
                                        <h2 class="text-success" id="today-total-revenue">₹0</h2>
                                        <p class="small text-muted">Revenue</p>
                                    </div>
                                    <div class="col-6">
                                        <h2 id="today-orders-count">0</h2>
                                        <p class="small text-muted">Orders</p>
                                    </div>
                                </div>
                                <div class="row text-center mt-3">
                                    <div class="col-6">
                                        <h4 id="today-avg-order">₹0</h4>
                                        <p class="small text-muted">Avg Order</p>
                                    </div>
                                    <div class="col-6">
                                        <h4 id="today-items-sold">0</h4>
                                        <p class="small text-muted">Items Sold</p>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="summary-box">
                                <h5>Payment Methods</h5>
                                <canvas id="paymentChart" height="150"></canvas>
                            </div>
                            <hr>
                            <div class="summary-box">
                                <h5>Top Selling Items</h5>
                                <div class="table-responsive">
                                    <table class="table table-sm">
                                        <thead>
                                            <tr>
                                                <th>Item</th>
                                                <th>Qty</th>
                                                <th>Revenue</th>
                                            </tr>
                                        </thead>
                                        <tbody id="top-items-body">
                                            <!-- Top items will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="d-grid gap-2 mt-3">
                                <button class="btn btn-outline-primary" id="download-pdf-btn">
                                    <i class="fas fa-download me-1"></i> Download PDF Report
                                </button>
                                <button class="btn btn-outline-danger" id="clear-completed-btn">
                                    <i class="fas fa-trash me-1"></i> Clear Completed Orders
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Menu Management Tab -->
        <div id="menu-management" class="tab-content">
            <div class="row">
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h3><i class="fas fa-edit me-2"></i>Menu Management</h3>
                            <div class="d-flex gap-2">
                                <button class="btn btn-sm btn-primary" id="add-category-btn">
                                    <i class="fas fa-plus me-1"></i> Add Category
                                </button>
                                <button class="btn btn-sm btn-success" id="import-menu-btn">
                                    <i class="fas fa-file-import me-1"></i> Import
                                </button>
                                <button class="btn btn-sm btn-info" id="export-menu-btn">
                                    <i class="fas fa-file-export me-1"></i> Export
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Category</th>
                                            <th>Item Name</th>
                                            <th>Price (₹)</th>
                                            <th>Cost (₹)</th>
                                            <th>Stock</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="menu-management-body">
                                        <!-- Menu items for management will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <h4><i class="fas fa-plus-circle me-2"></i>Add/Edit Menu Item</h4>
                        </div>
                        <div class="card-body">
                            <form id="menu-item-form">
                                <div class="mb-3">
                                    <label for="item-category" class="form-label">Category</label>
                                    <div class="input-group">
                                        <select class="form-select" id="item-category" required>
                                            <!-- Categories will be populated dynamically -->
                                        </select>
                                        <button type="button" class="btn btn-outline-secondary" id="new-category-btn" title="Add New Category">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                    <div class="mt-2 d-none" id="new-category-input">
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="new-category-name" placeholder="New category name">
                                            <button type="button" class="btn btn-success" id="save-new-category-btn">
                                                <i class="fas fa-check"></i>
                                            </button>
                                            <button type="button" class="btn btn-secondary" id="cancel-new-category-btn">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="item-name" class="form-label">Item Name</label>
                                    <input type="text" class="form-control" id="item-name" required>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label for="item-price" class="form-label">Selling Price (₹)</label>
                                        <input type="number" class="form-control" id="item-price" min="1" required>
                                    </div>
                                    <div class="col-6">
                                        <label for="item-cost" class="form-label">Cost Price (₹)</label>
                                        <input type="number" class="form-control" id="item-cost" min="0">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-6">
                                        <label for="item-stock" class="form-label">Stock Quantity</label>
                                        <input type="number" class="form-control" id="item-stock" min="0" value="0">
                                    </div>
                                    <div class="col-6">
                                        <label for="item-status" class="form-label">Status</label>
                                        <select class="form-select" id="item-status">
                                            <option value="available">Available</option>
                                            <option value="unavailable">Unavailable</option>
                                            <option value="seasonal">Seasonal</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="item-description" class="form-label">Description (Optional)</label>
                                    <textarea class="form-control" id="item-description" rows="2"></textarea>
                                </div>
                                <input type="hidden" id="edit-item-id">
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-success" id="save-menu-item-btn">
                                        <i class="fas fa-save me-1"></i> Save Item
                                    </button>
                                    <button type="button" class="btn btn-secondary" id="cancel-edit-btn">
                                        <i class="fas fa-times me-1"></i> Cancel Edit
                                    </button>
                                </div>
                            </form>
                            
                            <div class="alert alert-info mt-4">
                                <h5><i class="fas fa-lightbulb me-2"></i>Inventory Tips</h5>
                                <ul class="mb-0 small">
                                    <li>Set stock to 0 to disable ordering</li>
                                    <li>Cost price helps calculate profit margins</li>
                                    <li>Mark items as seasonal for limited availability</li>
                                    <li>Export menu for backup</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics" class="tab-content">
            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-chart-line me-2"></i>Business Analytics</h3>
                        </div>
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-3">
                                    <div class="stat-card bg-primary text-white">
                                        <h5>Total Revenue</h5>
                                        <h2 id="analytics-total-revenue">₹0</h2>
                                        <p class="small mb-0">All Time</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="stat-card bg-success text-white">
                                        <h5>Total Orders</h5>
                                        <h2 id="analytics-total-orders">0</h2>
                                        <p class="small mb-0">Completed</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="stat-card bg-warning text-white">
                                        <h5>Avg Order Value</h5>
                                        <h2 id="analytics-avg-order">₹0</h2>
                                        <p class="small mb-0">Per Order</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="stat-card bg-info text-white">
                                        <h5>Items Sold</h5>
                                        <h2 id="analytics-items-sold">0</h2>
                                        <p class="small mb-0">All Time</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mb-4">
                                <div class="col-lg-8">
                                    <div class="card">
                                        <div class="card-header">
                                            <h5>Revenue Trend (Last 7 Days)</h5>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="revenueChart" height="250"></canvas>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="card">
                                        <div class="card-header">
                                            <h5>Order Types</h5>
                                        </div>
                                        <div class="card-body">
                                            <canvas id="orderTypeChart" height="250"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="card">
                                        <div class="card-header">
                                            <h5>Top 10 Selling Items</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="table-responsive">
                                                <table class="table table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Item</th>
                                                            <th>Sold</th>
                                                            <th>Revenue</th>
                                                            <th>Profit</th>
                                                            <th>Margin</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="analytics-top-items">
                                                        <!-- Analytics top items will be loaded here -->
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="card">
                                        <div class="card-header">
                                            <h5>Hourly Sales Heatmap</h5>
                                        </div>
                                        <div class="card-body">
                                            <div id="heatmap-container">
                                                <!-- Heatmap will be generated here -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-content">
            <div class="row">
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-cog me-2"></i>System Settings</h3>
                        </div>
                        <div class="card-body">
                            <form id="system-settings-form">
                                <div class="mb-3">
                                    <label for="restaurant-name" class="form-label">Restaurant Name</label>
                                    <input type="text" class="form-control" id="restaurant-name" value="Restaurant Order System">
                                </div>
                                <div class="mb-3">
                                    <label for="tax-rate" class="form-label">Tax Rate (%)</label>
                                    <input type="number" class="form-control" id="tax-rate" value="5" min="0" max="50">
                                </div>
                                <div class="mb-3">
                                    <label for="currency" class="form-label">Currency Symbol</label>
                                    <input type="text" class="form-control" id="currency" value="₹" maxlength="3">
                                </div>
                                <div class="mb-3">
                                    <label for="auto-refresh" class="form-label">Auto Refresh (seconds)</label>
                                    <input type="number" class="form-control" id="auto-refresh" value="10" min="5" max="60">
                                </div>
                                <div class="mb-3 form-check">
                                    <input type="checkbox" class="form-check-input" id="sound-notifications">
                                    <label class="form-check-label" for="sound-notifications">Enable Sound Notifications</label>
                                </div>
                                <div class="mb-3 form-check">
                                    <input type="checkbox" class="form-check-input" id="low-stock-alerts">
                                    <label class="form-check-label" for="low-stock-alerts">Low Stock Alerts</label>
                                </div>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary">Save Settings</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <div class="card mt-3">
                        <div class="card-header">
                            <h4><i class="fas fa-database me-2"></i>Data Management</h4>
                        </div>
                        <div class="card-body">
                            <div class="d-grid gap-2">
                                <button class="btn btn-outline-primary" id="backup-data-btn">
                                    <i class="fas fa-save me-1"></i> Backup Data
                                </button>
                                <button class="btn btn-outline-warning" id="restore-data-btn">
                                    <i class="fas fa-history me-1"></i> Restore Backup
                                </button>
                                <button class="btn btn-outline-danger" id="reset-data-btn">
                                    <i class="fas fa-trash me-1"></i> Reset All Data
                                </button>
                            </div>
                            <div class="mt-3">
                                <label class="form-label">Import Data (JSON)</label>
                                <input type="file" class="form-control" id="import-data-file" accept=".json">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-header">
                            <h4><i class="fas fa-users me-2"></i>User Management</h4>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Username</th>
                                            <th>Role</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="users-table-body">
                                        <!-- Users will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                            <button class="btn btn-sm btn-success mt-2" id="add-user-btn">
                                <i class="fas fa-plus me-1"></i> Add User
                            </button>
                        </div>
                    </div>
                    
                    <div class="card mt-3">
                        <div class="card-header">
                            <h4><i class="fas fa-print me-2"></i>Print Settings</h4>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label for="printer-name" class="form-label">Printer Name</label>
                                <input type="text" class="form-control" id="printer-name" placeholder="Default Printer">
                            </div>
                            <div class="mb-3">
                                <label for="receipt-header" class="form-label">Receipt Header</label>
                                <textarea class="form-control" id="receipt-header" rows="2">Thank you for dining with us!</textarea>
                            </div>
                            <div class="mb-3">
                                <label for="receipt-footer" class="form-label">Receipt Footer</label>
                                <textarea class="form-control" id="receipt-footer" rows="2">Visit us again!</textarea>
                            </div>
                            <button class="btn btn-primary" id="test-print-btn">
                                <i class="fas fa-print me-1"></i> Test Print
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div class="modal fade" id="orderDetailsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Order Details - #<span id="modal-order-no"></span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <p><strong>Customer:</strong> <span id="modal-customer"></span></p>
                            <p><strong>Phone:</strong> <span id="modal-phone"></span></p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>Order Time:</strong> <span id="modal-order-time"></span></p>
                            <p><strong>Order Type:</strong> <span id="modal-order-type"></span></p>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th>Qty</th>
                                    <th>Price</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody id="modal-items-body">
                                <!-- Order items will be loaded here -->
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="3" class="text-end"><strong>Subtotal:</strong></td>
                                    <td><strong>₹<span id="modal-subtotal"></span></strong></td>
                                </tr>
                                <tr>
                                    <td colspan="3" class="text-end"><strong>Tax:</strong></td>
                                    <td><strong>₹<span id="modal-tax"></span></strong></td>
                                </tr>
                                <tr class="table-success">
                                    <td colspan="3" class="text-end"><strong>Total Amount:</strong></td>
                                    <td><strong>₹<span id="modal-total"></span></strong></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    <div class="mb-3">
                        <p><strong>Notes:</strong> <span id="modal-notes"></span></p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-warning" id="edit-order-btn">Edit</button>
                    <button type="button" class="btn btn-success" id="complete-order-btn" data-order-id="">Mark as Complete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Category Modal -->
    <div class="modal fade" id="addCategoryModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Category</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="category-form">
                        <div class="mb-3">
                            <label for="category-name" class="form-label">Category Name</label>
                            <input type="text" class="form-control" id="category-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="category-icon" class="form-label">Icon (Font Awesome)</label>
                            <input type="text" class="form-control" id="category-icon" placeholder="fas fa-utensils">
                        </div>
                        <div class="mb-3">
                            <label for="category-description" class="form-label">Description</label>
                            <textarea class="form-control" id="category-description" rows="2"></textarea>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="category-active" checked>
                            <label class="form-check-label" for="category-active">Active</label>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-success">Add Category</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="user-form">
                        <div class="mb-3">
                            <label for="user-username" class="form-label">Username</label>
                            <input type="text" class="form-control" id="user-username" required>
                        </div>
                        <div class="mb-3">
                            <label for="user-password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="user-password" required>
                        </div>
                        <div class="mb-3">
                            <label for="user-role" class="form-label">Role</label>
                            <select class="form-select" id="user-role" required>
                                <option value="admin">Admin</option>
                                <option value="manager">Manager</option>
                                <option value="cashier">Cashier</option>
                                <option value="kitchen">Kitchen Staff</option>
                            </select>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-success">Add User</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Templates Modal -->
    <div class="modal fade" id="templatesModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Order Templates</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row" id="templates-container">
                        <!-- Templates will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio for notifications -->
    <audio id="notification-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" type="audio/mpeg">
    </audio>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
</body>
</html>
