<!-- Add these meta tags in the head section -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#ff6b35">

<!-- Add a mobile action menu -->
<div id="mobile-action-menu" class="d-block d-md-none" style="position: fixed; bottom: 0; left: 0; right: 0; background: white; z-index: 1000; padding: 10px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1);">
    <div class="row g-2">
        <div class="col-4">
            <button class="btn btn-primary w-100" onclick="restaurantSystem.switchTab('take-order')">
                <i class="fas fa-plus"></i> Order
            </button>
        </div>
        <div class="col-4">
            <button class="btn btn-warning w-100" onclick="restaurantSystem.switchTab('ongoing-orders')">
                <i class="fas fa-clock"></i>
                <span class="badge bg-danger position-absolute top-0 end-0" id="mobile-ongoing-badge">0</span>
            </button>
        </div>
        <div class="col-4">
            <button class="btn btn-success w-100" onclick="restaurantSystem.switchTab('completed-orders')">
                <i class="fas fa-check"></i>
            </button>
        </div>
    </div>
</div>

<!-- Update the main container to accommodate mobile action menu -->
<div class="container-fluid main-container has-action-buttons">
    <!-- Your existing content -->
</div>

<!-- Add this script to handle mobile-specific features -->
<script>
// Handle iOS keyboard issues
document.addEventListener('DOMContentLoaded', function() {
    // Prevent zoom on input focus in iOS
    let viewport = document.querySelector("meta[name=viewport]");
    
    function preventZoom() {
        viewport.setAttribute("content", "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");
    }
    
    function allowZoom() {
        viewport.setAttribute("content", "width=device-width, initial-scale=1.0");
    }
    
    document.addEventListener("focusin", function(e) {
        if (e.target.matches("input, select, textarea")) {
            preventZoom();
        }
    });
    
    document.addEventListener("focusout", function(e) {
        if (e.target.matches("input, select, textarea")) {
            allowZoom();
        }
    });
    
    // Handle iOS swipe gestures
    let startX, startY;
    
    document.addEventListener('touchstart', function(e) {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
    }, {passive: true});
    
    document.addEventListener('touchmove', function(e) {
        if (!startX || !startY) return;
        
        const diffX = startX - e.touches[0].clientX;
        const diffY = startY - e.touches[0].clientY;
        
        // Horizontal swipe for tab navigation
        if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
            // Implement tab switching on swipe
            if (diffX > 0) {
                // Swipe left - next tab
                console.log('Swipe left');
            } else {
                // Swipe right - previous tab
                console.log('Swipe right');
            }
            startX = null;
            startY = null;
        }
    }, {passive: true});
});

// Update mobile badges
function updateMobileBadges() {
    if (restaurantSystem) {
        document.getElementById('mobile-ongoing-badge').textContent = restaurantSystem.orders.length;
    }
}
</script>
